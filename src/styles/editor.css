
/* =============================================
   Designer Mode Specific Styles
============================================= */
@layer base {
  [data-role="designer"] .designer-specific-element {
    border-bottom: none !important;
  }
  
  /* New spacing for editor toolbar to ensure proper alignment */
  .editor-toolbar-container {
    margin-bottom: 0.5rem;
  }
  
  /* Standard document container styles across all views */
  .document-container {
    margin: 0 auto;
    background-color: white;
    border: 1px solid var(--border);
    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
  }
  
  /* =============================================
     Font Size Enforcement Rules
  ============================================= */
  /* ... keep existing code (font size enforcement rules) */
  
  /* =============================================
     Z-Index and Dropdown Corrections
  ============================================= */
  /* Ensure editor toolbar is always above all content panels */
  .editor-toolbar-container, 
  .editor-toolbar,
  nav + .editor-toolbar-container,
  nav + div .editor-toolbar {
    position: relative;
    z-index: 50 !important;
  }
  
  /* Ensure the Radix select dropdown shows above content */
  [data-radix-popper-content-wrapper] {
    z-index: 9999 !important; /* Highest z-index */
    position: fixed !important;
    pointer-events: auto !important;
  }
  
  /* Fix for menus and dropdowns to appear correctly */
  .SelectContent, 
  [role="dialog"],
  [role="tooltip"],
  [role="menu"],
  [data-state="open"] ~ [data-radix-popper-content] {
    z-index: 9999 !important; /* Highest z-index */
  }
  
  /* Explicitly target Radix popover content */
  [data-radix-popper-content] {
    z-index: 9999 !important;
    position: absolute !important;
  }
  
  /* Explicitly set positioning for font size dropdown */
  .font-size-dropdown-content {
    z-index: 9999 !important;
    position: absolute !important;
    top: auto !important;
    left: auto !important;
    background-color: white !important;
    border-radius: 0.375rem !important;
    overflow: hidden !important;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1) !important;
  }
  
  /* Force Radix popover to position correctly */
  [data-radix-popper-content-wrapper] {
    position: absolute !important;
    top: auto !important;
    left: auto !important;
    transform: none !important;
    max-width: none !important;
  }
  
  /* Ensure toast notifications appear above everything */
  [role="status"].toast,
  [role="status"].Toaster__toast,
  [id^="toast-"],
  .Toaster,
  .toast-container,
  .sonner-toast-container,
  .sonner-toast,
  div[data-sonner-toast],
  div[data-toast-container] {
    z-index: 99999 !important; /* Super high z-index */
    position: relative !important;
  }
  
  /* Ensure toast container is above all other elements */
  [data-sonner-toaster] {
    position: fixed !important;
    z-index: 99999 !important;
    pointer-events: auto !important;
  }
  
  /* Ensure consistent editor component border styling with higher specificity */
  .editor-toolbar .SelectTrigger,
  .editor-toolbar button[data-state],
  .editor-toolbar-container select,
  .editor-toolbar-container button,
  .editor-toolbar-container .radix-select-trigger,
  .SelectTrigger,
  [data-radix-select-trigger] {
    border-color: #D9DADC !important;
    border-radius: 0.375rem !important;
  }
  
  /* Target the actual combobox element with maximum specificity */
  button[role="combobox"],
  div[role="combobox"],
  [data-radix-select-trigger][role="combobox"],
  [class*="SelectTrigger"][role="combobox"] {
    border-radius: 0.375rem !important;
    overflow: hidden !important;
  }
  
  /* Override Radix UI default styles */
  [data-radix-popper-content-wrapper] > div {
    border-radius: 0.375rem !important;
    overflow: hidden !important;
    background-color: white !important;
  }
  
  /* Force dropdown menu to be visible */
  .SelectContent[data-state="open"],
  [data-radix-popper-content-wrapper][data-state="open"] {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* Prevent content shifting when dropdown opens */
  body.dropdown-open {
    overflow: hidden !important;
  }
  
  /* Editor-specific dropdown corrections */
  [data-role="editor"] .SelectContent,
  [data-role="editor"] [data-radix-popper-content-wrapper] {
    position: absolute !important;
    transform-origin: top center !important;
    animation: dropdown-appear 0.1s ease-out !important;
  }
  
  /* Fix for Radix UI select dropdown positioning issues */
  [data-radix-select-content][data-side="bottom"] {
    top: 100% !important;
    bottom: auto !important;
    margin-top: 8px !important;
  }
  
  /* Fix for font size dropdown specific issues */
  .font-size-dropdown-content[data-state="open"] {
    position: absolute !important;
    visibility: visible !important;
    opacity: 1 !important;
    transform: translateY(0) !important;
  }
  
  @keyframes dropdown-appear {
    from {
      opacity: 0;
      transform: translateY(-5px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}
